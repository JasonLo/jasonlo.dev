---
/**
 * ArticleCard Component
 * 
 * Displays a blog/writing entry in a card format with metadata, title, description, and tags.
 * Extends BaseCard component with article-specific formatting and automatically generates
 * links to the full article page.
 * 
 * @component
 * 
 * @example
 * ```astro
 * <ArticleCard
 *   title="Getting Started with Astro"
 *   slug="getting-started-astro"
 *   description="Learn how to build fast websites with Astro"
 *   publishDate={new Date('2024-01-15')}
 *   tags={['astro', 'web-development', 'tutorial']}
 * />
 * ```
 */

import BaseCard from './BaseCard.astro';

interface Props {
  /** Article title (displayed as card heading) */
  title: string;

  /** URL slug for the article (used to generate /publications/{slug} link) */
  slug: string;

  /** List of authors */
  authors: string[];

  /** Journal name */
  journal: string;

  /** Publication date */
  publishDate: Date;

  /** Citation count */
  citedByCount?: number;

  /** DOI URL */
  doi?: string;
}

const { title, slug, authors, journal, publishDate, citedByCount = 0, doi } = Astro.props;

const year = publishDate.getFullYear();
---

<BaseCard href={doi || `/publications/${slug}`} class="article-card">
  <Fragment slot="meta">{journal} · {year}{citedByCount > 0 && ` · ${citedByCount} citations`}</Fragment>
  <Fragment slot="title">{title}</Fragment>
  <Fragment slot="description">{authors.join(', ')}</Fragment>
</BaseCard>
